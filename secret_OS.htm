<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>MiaouOS Deluxe 🐾</title>
  <style>
    /* 🌑 Thème rétro terminal + OS */
    body {
      margin: 0;
      background-color: #101010;
      color: #00ff00;
      font-family: 'Courier New', monospace;
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    #desktop {
      flex-grow: 1;
      padding: 20px;
      overflow-y: auto;
    }

    .emoji {
      font-size: 80px;
      text-align: center;
      margin: 30px 0;
    }

    /* 🧭 Barre des tâches */
    #taskbar {
      background-color: #222;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 12px;
      border-top: 1px solid #0f0;
    }

    #startBtn {
      cursor: pointer;
      padding: 4px 12px;
      background: #0f0;
      color: #000;
      font-weight: bold;
      border-radius: 4px;
    }

    /* 🪟 Menu Démarrer */
    #startMenu {
      position: absolute;
      bottom: 48px;
      left: 12px;
      background: #111;
      border: 1px solid #0f0;
      padding: 12px;
      display: none;
      z-index: 999;
    }

    #startMenu button {
      display: block;
      margin: 8px 0;
      background: transparent;
      border: none;
      color: #00ff00;
      text-align: left;
      cursor: pointer;
    }

    #settings {
      padding: 12px;
    }

    #settings input {
      margin-right: 6px;
    }
  </style>
</head>
<body>
  <div id="desktop">
    <div class="emoji">😺</div>
    <div id="settings" style="display:none;">
      <h2>⚙️ Paramètres</h2>
      <label>
        <input type="checkbox" id="cookieCheck"> Activer les cookies (localStorage)
      </label>
      <p id="cookieStatus"></p>
    </div>
  </div>

  <div id="startMenu">
    <button onclick="showEmoji()">😺 Emoji géant</button>
    <button onclick="toggleSettings()">⚙️ Paramètres</button>
    <button onclick="clearScreen()">🧹 Nettoyer</button>
  </div>

  <div id="taskbar">
    <div id="startBtn">🟢 Miaou</div>
    <div id="clock"></div>
  </div>

  <script>
    const startBtn = document.getElementById("startBtn");
    const startMenu = document.getElementById("startMenu");
    const desktop = document.getElementById("desktop");
    const settingsPanel = document.getElementById("settings");
    const cookieCheck = document.getElementById("cookieCheck");
    const cookieStatus = document.getElementById("cookieStatus");
    const clock = document.getElementById("clock");

    startBtn.onclick = () => {
      startMenu.style.display = startMenu.style.display === "none" ? "block" : "none";
    };

    function showEmoji() {
      desktop.innerHTML = "<div class='emoji' style='font-size:150px;'>😺</div>";
      startMenu.style.display = "none";
    }

    function clearScreen() {
      desktop.innerHTML = "";
      startMenu.style.display = "none";
    }

    function toggleSettings() {
      settingsPanel.style.display = settingsPanel.style.display === "none" ? "block" : "none";
      updateCookieUI();
    }

    cookieCheck.onchange = () => {
      localStorage.setItem("cookiesEnabled", cookieCheck.checked ? "true" : "false");
      updateCookieUI();
    };

    function updateCookieUI() {
      const status = localStorage.getItem("cookiesEnabled") === "true";
      cookieCheck.checked = status;
      cookieStatus.innerText = status ? "🍪 Cookies activés." : "🚫 Cookies désactivés.";
    }

    function updateClock() {
      const now = new Date();
      clock.textContent = now.toLocaleTimeString();
    }

    setInterval(updateClock, 1000);
    updateClock();
    updateCookieUI();
  </script>
</body>
</html>
